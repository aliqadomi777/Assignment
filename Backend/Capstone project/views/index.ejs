<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog web app</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <%- include("header.ejs") %>
    <main>
      <div class="posts-container">
        <% if (posts && posts.length > 0) { %> <% posts.forEach(post => { %>
        <div class="post-card">
          <h2><%= post.title %></h2>
          <p class="author">By: <%= post.author %></p>
          <p class="content"><%= post.message %></p>
          <div class="post-buttons flex row space-between">
            <a href="/posts/<%= post.id %>/edit" class="button-link">
              <button class="edit-button">Edit</button>
            </a>
            <form
              action="/posts/<%= post.id %>/delete"
              method="POST"
              class="delete-form"
            >
              <button type="submit" class="delete-button">Delete</button>
            </form>
          </div>
        </div>
        <% }); %> <% } else { %>
        <div class="empty-container">
          <p class="no-posts">No posts yet. Be the first to create one!</p>
          <a href="/posts/new" class="new-post-link">Create New Post</a>
        </div>
        <% } %>
      </div>
    </main>
  </body>
</html>
